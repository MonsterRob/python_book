. 当前目录
.. 当前目录上级目录
工作目录 ：进程解释相对路径的参照点
字节流序列
过滤器 过滤 参数过滤 返回值过滤
命令行参数

CPU 内存 文件访问 设备访问
可再生资源 有限资源

进程的逻辑内存布局
文本段 指令

数据段
堆段
栈段

进程信号
环境列表

静态库 动态库

进程通信与同步
IPC ：
    信号 信号处理器
    管道
    套接字
    文件锁定
    消息队列
    信号量
    共享内存
RFC

线程有自己的栈区
任务控制

系统编程 系统调用 库函数 检查返回状态
用户内存 内核内存
事件的发生序列
部分库函数构建与系统调用之上
调用参数检查 返回值检查
命令行 选项 参数
周正
左值 存储区域 右值 真实值

磁盘文件 file

通用性概念 创建 打开 IO 关闭

进程资源上限 系统上限

缓存的实现

文件空洞

原子操作  动作
一套动作打完 不中断
系统调用都是原子的
事实：文件描述符与打开的文件不是一一对应的关系

文件描述符 文件句柄 文件本身
文件描述符复制
进程复制 不会对文件句柄的复制
标志位

内核缓冲区 内存缓冲区

进程
    虚拟内存布局及内容
    程序实例
    进程是基本作战单位
    内存的段 每个进程都会被分配一块内存 内存再分为段更小的单位 栈帧
    页 页帧
    环境变量
    非局部跳转

用户和组 ：确定资源所有权 确定进程所有者
    用户的定义
    真蛋疼 复杂

时间
    elapsed
系统资源限制

系统和进程信息

文件IO 缓冲
    用户空间缓冲区 和 内核缓冲区
    缓冲区
    内核缓冲区大小的限制
系统编程概念
    什么是正确的三观？
    设备专用文件
    文件系统
文件属性
    话题？
    文件信息？获取文件信息
    增删改--写 查-读 读写
    access modify change
文件的扩展属性
目录与连接
意志力
获取当前工作目录
改变当前工作目录
路径名解析
目录条目 i-node
监控文件事件：
    哪些事件
    事件回调
    In Out
    文件事件
信号
    信号与事件
    信号源头 通常是内核
    信号是预先定义好的
    标准信号
    信号因事件而产生
    明白人 和智障 明白人明白利害关系 智障很幼稚 很天真
    核心转储文件
    信号处理函数的原则 KISS
    可重入函数 单线程程序 多线程程序
    统一进程 存在多条并发执行逻辑流
    可重入函数的安全性问题 一定不能修改全局变量或者静态变量
    执行线程 条
    异步信号安全的函数
    核心转储文件
进程
    创建新的进程
    加载新的程序 丢弃现有的内存
    执行一个新程序
    孵化操作
    显示地终止进程
    进程终止状态
    创建新进程 任务分解
    当前用户可创建进程数量到达上限
    文件描述符副本认不是文件副本


定时器与休眠
    定时器
    计时器
    休眠 挂起
    间隔定时器
    真实时间
    秒和微秒
    POSIX时钟
    既然人生来地位就不是平等的，为什么要遵守公平的游戏规则，况且社会游戏规则本身就不公平

进程的终止
    异常终止
    正常终止 --
    退出处理程序
    进程生命周期
监控子进程
    子进程监控工具
    poll 轮询
    孤儿进程
    僵尸进程
    进程表
    子进程的终止时间依赖于系统调度
    信号处理程序
程序的执行
    新的进程会占用就进程的内存空间，将旧的进程挤出去，俗称鸠占鹊巢
    新程序从main 开始执行
    单独执行execve()很少见 一般在fork之后
    进程当前工作目录
    解释器：读取并执行文本格式的命令
    解释器：交互式执行、读取脚本并执行
    脚本文件的可执行权限+脚本文件的起始行需要是解释器路径名

进程
    系统启动脚本
    子函数 入口函数
    栈不共享
    线程组 线程组首线程 线程组ID
    IO模型
    线程不共享栈内存
    000010010
    111101101
线程
    线程的join操作
    进程的wait操作
    线程的具体调度
    线成分离
    进程创建耗时 线程创建耗时
    进程切换 线程切换
    线程安全的概念
    隔离性 线程隔离性差 进程隔离性好
    线程同步 互斥 条件
    串行的
    信号模型 进程模型
    KSE 内核调度实体
    内核调度器
进程组 会话 作业控制
    两级层次关系：进程组是进程的集合 会话是进程组的集合
    进程组---进程组 会话
    进程组 同义词 作业
    会话ID
    会话首进程
进程优先级和调度
    CPU亲和力

进程资源
    进程资源使用情况
    进程资源限制 获取资源限制
    物理内存
    虚拟内存
daemon 进程
    什么是daemon ?
    daemon 进程的特点：
        生命周期长
        后台运行
        关联终端
安全的特权程序
    程序文件的用户ID
    进程的用户ID
    特权程序 普通用户
    普通程序 以特权方式运行：
        1 以特权用户ID启动
        2 设置权限位
    搜索程序
    分割命令行单词
    空白字符 空格字符
    虚假请求
    服务器--数据服务
    网络包
能力
    权限模型
    权限粒度划分
    继承
    许可
    有效
登陆记账
    用户登入系统 登出系统记录
    登陆名
    用户ID
共享库
    连接器程序
    静态库 会使用库函数副本
    共享库 不会
    创建共享库
共享库的高级特性

进程间通信简介
    通信工具 ：关注数据交换
    同步工具 ：关注操作同步
    信号工具：同步技术之一
    同一机器上的进程
    网络上的进程
    两次数据传输：用户内存--> 内核内存  内核内存---> 用户内存
    共享内存 速度快
    IPC工具比较
    数据传输工具
    只有socket允许进程通过网络来通信
管道和FIFO
    管道是字节流 没有边界
    管道容量
    相关进程
    非相关进程
System V IPC
    消息队列
    消息类型重要； 消息写入的顺序不再重要
System V 消息队列 信号量 共享内存
内存映射
    系统分页大小
虚拟内存操作
    物理内存
    交换空间


概念--API

POSIX IPC 介绍

生存策略
事情总是在发生变化
毫无效率的长期卖淫
对于现象的解释
白社会 黑社会
生意人 决策 租赁 购入

文件加锁 属于文件话题
    同步技术
    文件锁
    给整个文件加锁
    给部分区域加锁 记录加锁
    文件是一个字节序列
    时间片耗尽
    锁请求
    只运行一个实例的程序
SOCKET
    通信信道
    字节流
    对等==远程
    本地
    关键系统调用：
    socket bind listen accept connect
    listen 开启监听
    acccept 接受连接请求
    未决连接的数量
    accept 会创建新的socket 正是此socket与对等socket通信
    监听socket
    边界 连接 可靠
UNIX SOCKET
    同一主机 SOCKET通信










